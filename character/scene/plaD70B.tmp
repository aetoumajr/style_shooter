[gd_scene load_steps=63 format=3 uid="uid://cmd31gkmh8d6b"]

[ext_resource type="Script" path="res://character/scene/player_with_state_machine.gd" id="1_7i6fh"]
[ext_resource type="Script" path="res://addons/imjp94.yafsm/src/StateMachinePlayer.gd" id="8_lc012"]
[ext_resource type="Script" path="res://addons/imjp94.yafsm/src/states/StateMachine.gd" id="9_ts8kp"]
[ext_resource type="Script" path="res://addons/imjp94.yafsm/src/states/State.gd" id="10_3a2ip"]
[ext_resource type="Script" path="res://addons/imjp94.yafsm/src/conditions/Condition.gd" id="11_75mis"]
[ext_resource type="Script" path="res://addons/imjp94.yafsm/src/transitions/Transition.gd" id="12_agpig"]
[ext_resource type="Script" path="res://addons/imjp94.yafsm/src/conditions/BooleanCondition.gd" id="13_7cfh7"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_312w2"]

[sub_resource type="Resource" id="Resource_i6cg7"]
script = ExtResource("10_3a2ip")
name = "Entry"
metadata/graph_offset = Vector2(46, 262)

[sub_resource type="Resource" id="Resource_xp5gq"]
script = ExtResource("10_3a2ip")
name = "Exit"
metadata/graph_offset = Vector2(1226, 282)

[sub_resource type="Resource" id="Resource_wslog"]
script = ExtResource("10_3a2ip")
name = "dash"
metadata/graph_offset = Vector2(586, 422)

[sub_resource type="Resource" id="Resource_5a2jx"]
script = ExtResource("10_3a2ip")
name = "fall"
metadata/graph_offset = Vector2(1246, 402)

[sub_resource type="Resource" id="Resource_ve4ri"]
script = ExtResource("10_3a2ip")
name = "idle"
metadata/graph_offset = Vector2(246, 222)

[sub_resource type="Resource" id="Resource_bs8s0"]
script = ExtResource("10_3a2ip")
name = "jump"
metadata/graph_offset = Vector2(226, 602)

[sub_resource type="Resource" id="Resource_kfsti"]
script = ExtResource("10_3a2ip")
name = "jump_off_wall"
metadata/graph_offset = Vector2(925.5, 942)

[sub_resource type="Resource" id="Resource_pvxhf"]
script = ExtResource("10_3a2ip")
name = "move"
metadata/graph_offset = Vector2(826, 162)

[sub_resource type="Resource" id="Resource_lgced"]
script = ExtResource("10_3a2ip")
name = "run_on_wall"
metadata/graph_offset = Vector2(523.5, 902)

[sub_resource type="Resource" id="Resource_1ythd"]
script = ExtResource("10_3a2ip")
name = "slide"
metadata/graph_offset = Vector2(386, 302)

[sub_resource type="Resource" id="Resource_qkiw5"]
script = ExtResource("12_agpig")
from = "Entry"
to = "idle"
conditions = {}
priority = 0

[sub_resource type="Resource" id="Resource_ng40a"]
script = ExtResource("11_75mis")
name = "input_jump"

[sub_resource type="Resource" id="Resource_agdys"]
script = ExtResource("12_agpig")
from = "dash"
to = "jump"
conditions = {
"input_jump": SubResource("Resource_ng40a")
}
priority = 0

[sub_resource type="Resource" id="Resource_82d4n"]
script = ExtResource("11_75mis")
name = "input_run"

[sub_resource type="Resource" id="Resource_uxxir"]
script = ExtResource("12_agpig")
from = "dash"
to = "jump_off_wall"
conditions = {
"input_run": SubResource("Resource_82d4n")
}
priority = 0

[sub_resource type="Resource" id="Resource_oyopp"]
script = ExtResource("11_75mis")
name = "input_dash"

[sub_resource type="Resource" id="Resource_dytw1"]
script = ExtResource("13_7cfh7")
value = true
comparation = 0
name = "on_wall"

[sub_resource type="Resource" id="Resource_o4hia"]
script = ExtResource("12_agpig")
from = "dash"
to = "run_on_wall"
conditions = {
"input_dash": SubResource("Resource_oyopp"),
"on_wall": SubResource("Resource_dytw1")
}
priority = 0

[sub_resource type="Resource" id="Resource_y6ejq"]
script = ExtResource("11_75mis")
name = "input_dash"

[sub_resource type="Resource" id="Resource_6qmve"]
script = ExtResource("12_agpig")
from = "fall"
to = "dash"
conditions = {
"input_dash": SubResource("Resource_y6ejq")
}
priority = 0

[sub_resource type="Resource" id="Resource_do6p4"]
script = ExtResource("13_7cfh7")
value = true
comparation = 0
name = "on_wall"

[sub_resource type="Resource" id="Resource_aix8a"]
script = ExtResource("12_agpig")
from = "fall"
to = "jump_off_wall"
conditions = {
"on_wall": SubResource("Resource_do6p4")
}
priority = 0

[sub_resource type="Resource" id="Resource_r5bfa"]
script = ExtResource("11_75mis")
name = "input_move"

[sub_resource type="Resource" id="Resource_0jwsf"]
script = ExtResource("13_7cfh7")
value = true
comparation = 0
name = "on_wall"

[sub_resource type="Resource" id="Resource_kxpnu"]
script = ExtResource("12_agpig")
from = "fall"
to = "run_on_wall"
conditions = {
"input_move": SubResource("Resource_r5bfa"),
"on_wall": SubResource("Resource_0jwsf")
}
priority = 0

[sub_resource type="Resource" id="Resource_p67s3"]
script = ExtResource("11_75mis")
name = "input_jump"

[sub_resource type="Resource" id="Resource_g45j3"]
script = ExtResource("12_agpig")
from = "idle"
to = "jump"
conditions = {
"input_jump": SubResource("Resource_p67s3")
}
priority = 0

[sub_resource type="Resource" id="Resource_mfu64"]
script = ExtResource("13_7cfh7")
value = true
comparation = 0
name = "on_floor"

[sub_resource type="Resource" id="Resource_31di5"]
script = ExtResource("12_agpig")
from = "idle"
to = "move"
conditions = {
"on_floor": SubResource("Resource_mfu64")
}
priority = 0

[sub_resource type="Resource" id="Resource_ua3h1"]
script = ExtResource("11_75mis")
name = "input_dash"

[sub_resource type="Resource" id="Resource_3a8c5"]
script = ExtResource("12_agpig")
from = "jump"
to = "dash"
conditions = {
"input_dash": SubResource("Resource_ua3h1")
}
priority = 0

[sub_resource type="Resource" id="Resource_82jsq"]
script = ExtResource("13_7cfh7")
value = false
comparation = 0
name = "on_floor"

[sub_resource type="Resource" id="Resource_2tjfh"]
script = ExtResource("13_7cfh7")
value = false
comparation = 0
name = "on_wall"

[sub_resource type="Resource" id="Resource_uqrwd"]
script = ExtResource("12_agpig")
from = "jump"
to = "fall"
conditions = {
"on_floor": SubResource("Resource_82jsq"),
"on_wall": SubResource("Resource_2tjfh")
}
priority = 0

[sub_resource type="Resource" id="Resource_bx1qn"]
script = ExtResource("11_75mis")
name = "input_jump"

[sub_resource type="Resource" id="Resource_1ernk"]
script = ExtResource("13_7cfh7")
value = true
comparation = 0
name = "on_wall"

[sub_resource type="Resource" id="Resource_gyj2g"]
script = ExtResource("12_agpig")
from = "jump"
to = "jump_off_wall"
conditions = {
"input_jump": SubResource("Resource_bx1qn"),
"on_wall": SubResource("Resource_1ernk")
}
priority = 0

[sub_resource type="Resource" id="Resource_ayqu5"]
script = ExtResource("11_75mis")
name = "input_jump"

[sub_resource type="Resource" id="Resource_nmwf6"]
script = ExtResource("13_7cfh7")
value = true
comparation = 0
name = "on_wall"

[sub_resource type="Resource" id="Resource_08n1q"]
script = ExtResource("12_agpig")
from = "jump"
to = "run_on_wall"
conditions = {
"input_jump": SubResource("Resource_ayqu5"),
"on_wall": SubResource("Resource_nmwf6")
}
priority = 0

[sub_resource type="Resource" id="Resource_xk8ac"]
script = ExtResource("11_75mis")
name = "input_dash"

[sub_resource type="Resource" id="Resource_krctd"]
script = ExtResource("12_agpig")
from = "move"
to = "dash"
conditions = {
"input_dash": SubResource("Resource_xk8ac")
}
priority = 0

[sub_resource type="Resource" id="Resource_kbvry"]
script = ExtResource("13_7cfh7")
value = false
comparation = 0
name = "on_floor"

[sub_resource type="Resource" id="Resource_17fmn"]
script = ExtResource("13_7cfh7")
value = false
comparation = 0
name = "on_wall"

[sub_resource type="Resource" id="Resource_pbvaa"]
script = ExtResource("12_agpig")
from = "move"
to = "fall"
conditions = {
"on_floor": SubResource("Resource_kbvry"),
"on_wall": SubResource("Resource_17fmn")
}
priority = 0

[sub_resource type="Resource" id="Resource_rkudk"]
script = ExtResource("11_75mis")
name = "input_jump"

[sub_resource type="Resource" id="Resource_31yte"]
script = ExtResource("12_agpig")
from = "move"
to = "jump"
conditions = {
"input_jump": SubResource("Resource_rkudk")
}
priority = 0

[sub_resource type="Resource" id="Resource_dv8x2"]
script = ExtResource("11_75mis")
name = "input_crouch"

[sub_resource type="Resource" id="Resource_bjmet"]
script = ExtResource("12_agpig")
from = "move"
to = "slide"
conditions = {
"input_crouch": SubResource("Resource_dv8x2")
}
priority = 0

[sub_resource type="Resource" id="Resource_ms0g8"]
script = ExtResource("11_75mis")
name = "input_jump"

[sub_resource type="Resource" id="Resource_246w7"]
script = ExtResource("12_agpig")
from = "run_on_wall"
to = "jump"
conditions = {
"input_jump": SubResource("Resource_ms0g8")
}
priority = 0

[sub_resource type="Resource" id="Resource_r3atr"]
script = ExtResource("11_75mis")
name = "input_jump"

[sub_resource type="Resource" id="Resource_lo6ef"]
script = ExtResource("12_agpig")
from = "slide"
to = "jump"
conditions = {
"input_jump": SubResource("Resource_r3atr")
}
priority = 0

[sub_resource type="Resource" id="Resource_dgr4t"]
script = ExtResource("9_ts8kp")
states = {
"Entry": SubResource("Resource_i6cg7"),
"Exit": SubResource("Resource_xp5gq"),
"dash": SubResource("Resource_wslog"),
"fall": SubResource("Resource_5a2jx"),
"idle": SubResource("Resource_ve4ri"),
"jump": SubResource("Resource_bs8s0"),
"jump_off_wall": SubResource("Resource_kfsti"),
"move": SubResource("Resource_pvxhf"),
"run_on_wall": SubResource("Resource_lgced"),
"slide": SubResource("Resource_1ythd")
}
transitions = {
"Entry": {
"idle": SubResource("Resource_qkiw5")
},
"dash": {
"jump": SubResource("Resource_agdys"),
"jump_off_wall": SubResource("Resource_uxxir"),
"run_on_wall": SubResource("Resource_o4hia")
},
"fall": {
"dash": SubResource("Resource_6qmve"),
"jump_off_wall": SubResource("Resource_aix8a"),
"run_on_wall": SubResource("Resource_kxpnu")
},
"idle": {
"jump": SubResource("Resource_g45j3"),
"move": SubResource("Resource_31di5")
},
"jump": {
"dash": SubResource("Resource_3a8c5"),
"fall": SubResource("Resource_uqrwd"),
"jump_off_wall": SubResource("Resource_gyj2g"),
"run_on_wall": SubResource("Resource_08n1q")
},
"move": {
"dash": SubResource("Resource_krctd"),
"fall": SubResource("Resource_pbvaa"),
"jump": SubResource("Resource_31yte"),
"slide": SubResource("Resource_bjmet")
},
"run_on_wall": {
"jump": SubResource("Resource_246w7")
},
"slide": {
"jump": SubResource("Resource_lo6ef")
}
}
name = ""

[node name="player" type="Node3D"]

[node name="CharacterBody3D" type="CharacterBody3D" parent="."]
script = ExtResource("1_7i6fh")
speed = null
damping = null

[node name="CollisionShape3D" type="CollisionShape3D" parent="CharacterBody3D"]
shape = SubResource("CapsuleShape3D_312w2")

[node name="MeshInstance3D" type="MeshInstance3D" parent="CharacterBody3D"]
skeleton = NodePath("")

[node name="TwistPivot" type="Node3D" parent="CharacterBody3D"]

[node name="PitchPivot" type="Node3D" parent="CharacterBody3D/TwistPivot"]

[node name="Camera3D" type="Camera3D" parent="CharacterBody3D/TwistPivot/PitchPivot"]

[node name="StateMachinePlayer" type="Node" parent="."]
script = ExtResource("8_lc012")
state_machine = SubResource("Resource_dgr4t")
